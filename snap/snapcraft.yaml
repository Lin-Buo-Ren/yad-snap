%YAML 1.2
---
# Snapcraft Recipe for Yet Another Dialog
# ------------------------------
# This file is in the YAML data serialization format:
# http://yaml.org
# For the spec. of writing this file refer the following documentation:
# * Snapcraft.yaml reference
#   https://forum.snapcraft.io/t/snapcraft-yaml-reference/4276
# * The snapcraft syntax
#   https://docs.snapcraft.io/build-snaps/syntax
# * Snap Docs
#   https://snapdocs.labix.org
# * Latest doc topics in the Snapcraft Forum
#   https://forum.snapcraft.io/c/doc
# For support refer to the snapcraft section in the Snapcraft Forum:
# https://forum.snapcraft.io/c/snapcraft

name: yad
summary: Display GTK+ dialog boxes from command line or shell scripts
description: |
  Program allows you to display GTK+ dialog boxes from command line or shell scripts. YAD depends on GTK+ only. Minimal GTK+ version is 2.16.0

  This software is licensed under the GPL v.3

  Project homepage: https://sourceforge.net/projects/yad-dialog/
  Example usage: https://sourceforge.net/p/yad-dialog/wiki/browse_pages/
  Mailing list: http://groups.google.com/group/yad-common

  THIS IS NOT AN OFFICIAL DISTRIBUTION!  For any issues regarding using this snap refer to the issue tracker:
  https://github.com/Lin-Buo-Ren/yad-snap/issues

version: determined-by-version-script
version-script: ./snap/local/utilities/set-snap-version.bash
confinement: devmode
grade: devel
icon: snap/gui/yad.png

# Apps that are exposed by the snap package
# If the _app_name_ is identical with the _snap_name_ it can be directly run
# with `_snap_name_` or `snap run _snap_name_` commands, otherwise it can only be run
# via `_snap_name_._app_name_` or `snap run _snap_name_._app_name_`
apps:
  yad:
    command: >
      desktop-launch
      yad-launch
      yad

# Refer the following documentation for asserting interface plugs and slots in a security confined snap:
# Interfaces - doc - snapcraft.io
# https://forum.snapcraft.io/t/interfaces/6154
# Non-A/C: Non-autoconnect interface
plugs:
  # For snaps with a graphical user interface:
  desktop:
  desktop-legacy:
  x11:
  unity7:
  wayland:

  # Storage access
  #home:
  #removable-media: # Non-A/C

# Run `snapcraft help sources` for supported keywords on pulling a part's source ingredients
# Run `snapcraft plugins` for supported build helper plugins
# Run `snapcraft help plugins` for supported keywords on building a part
# For `override-*` scriptlets used to modify behavior of certain part's lifecycle phase, check out:
# https://forum.snapcraft.io/t/scriptlets/4892
parts:
  # Assets from the snap packaging, refer each READMEs under the `snap` folder for more information
  assets:
    source: snap/local
    plugin: dump

    override-build: ./utilities/install-assets.bash

    prime:
    - -utilities
    - -patches

  # Remote part for support of various desktop technologies
  # Refer: https://github.com/ubuntu/snapcraft-desktop-helpers/blob/master/snapcraft.yaml
  desktop-gtk3: # for yad

  yad:
    after:
    - assets # for /snap/local/utilities/patch-desktop-entries

    source: https://github.com/v1cont/yad.git
    source-depth: 1

    # For stable release build
    #source-tag: v0.40.3

    plugin: nil
